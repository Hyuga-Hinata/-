# 新型非易失存储的安全与隐私问题研究综述

NVM ：字节寻址、非易失性、存储密度高、功耗低、低延迟等

## 根源

NVM的非易失特性

字节寻址特性



## 安全隐私问题

持久化内存泄露

不经意写操作

元数据安全

恶意磨损攻击

非易失指针等

数据保护

信息泄露等



## 预防和改进

研究加密机制对NVM中的数据进行加密，防止数据窃取或泄密情况的发生

采取安全的文件系统机制，防止元数据被应用程序恶意或不经意修改

通过在线探测和地址动态重映射，来降低磨损攻击的风险。等

（考虑开销）



## 1.安全问题

### 内存泄露

```
指动态储存分配函数动态开辟的空间，在使用完毕后未释放，结果导致内存单元一直被占用。
```

Mnemosyne:

1.分配内存时，要求程序提供一个持久化的指针指向该内存，从而保证了系统崩溃时该内存不会丢失。

2.通过将NVM存储区域转换成文件来实现NVM的虚拟化，进而保证一个程序中出现的内存泄露不会影响到其他程序。



### 不经意写操作

PMFS利用处理器中的写保护控制特性，实现了低开销的写保护机制。

基于页表的保护。优化：缓冲/批处理机制（DRAM）、多个缓冲区



### 元数据安全

libFS(访问文件接口，如命名+数据访问) + TFS(不可信程序之间的协作服务，确保元数据的完整性和同步)



### 恶意磨损攻击

Qureshi:基于区域的起始-间隙磨损均匀算法（抗攻击性弱，增加空间管理复杂度）

增加对同一行写操作的时间间隔，如PCM写队列策略（实时性差）

安全刷新算法，通过PCM控制器周期性地对地址映射空间进行动态刷新，防止地址映射信息泄露。

在线攻击探测机制-->自适应的磨损均衡（AWL)



### 非易失指针

低延迟+字节寻址 -- >  工作内存

写延迟和功耗高 --> DRAM + NVM



NV-Heaps明确指针选择，不能存在NV-to-V指针/ <font color='red'>inter-heap NV-to-NV指针</font>?



## 2.隐私问题

### 数据保护

平板——>NVM(未来)

NVM工作内存解决方案:

1.敏感数据特殊处理，防止冷启动攻击

2.改进加密技术：时间空间一致性-->64B（开销大）--> 增加数据块级计数器 ——> 脏块加密并写回

​							  i-NVMM ->预测要求高,延迟大

密钥存放 ——> 内存加密控制单元（MECU）

查找表操作、移位操作、模幂与模乘等基本加密操作，并以数据加密标准算法为案例进行了完整的电路设计和综合

### 信息泄露

侧信道攻击：利用侧信道信息（时间、功耗等）对密码算法和密钥进行分析的过程

“页对”攻击，预防无研究<font color = 'red'>为什么page 8 没了后面的也没了</font>

## 3研究展望

### 权限和保护机制的融合

重要元数据的保护（load/store造成）

内存：保护机制

磁盘：权限机制

**重新设计针对单一的NVM存储介质的存储软件栈**：更好地融合传统的权限和保护等安全机制、更好地平衡安全和性能2方面需求

### 非易失缓存

系统崩溃+异常掉电 --> 用户数据与元数据之间不一致

传统：写前日志（WAL）、写时拷贝（COW）

NVM：Zhao等人提出使用非易失缓存以及相应的硬件支持[[43]](Zhao J, Li S, Yoon D H, et al. Kiln: Closing the performance gap between sysytems with and without persistece support [C] // Proc of the 46th Annual IEEE/ ACM Int Symp on Microarchitecture. New York : ACM, 2013 : 421-432)

​			所有存储层次均为非易失存储介质的系统[[44]](Sun L, Lu Y. DP: Reducing transaction overhead with differential and dual persistency in persistent memory[C] //Proc of the 12th ACM Int Conf on Computing Frontiers. New York: ACM, 2015: 24)

缓存加解密及降低开销

### 易失性NVM？

区分工作内存和持久性存储

非易失性的保存时间与写加速比密切相关（越快越短）

数据同步

持久存储区：更细粒     -->事物机制等（不需要长时间保存）

### 程序安全

重启（神器）--> NVM没用

一个进程多线程直接也需要数据的隔离和保护

传统：内存一致性模型（共享区域,程序顺序写），数据持久化（文件系统，单一I/0）

NVM:旁路文件系统，应用程序直接写入持久化存储   --> 更鲁棒的编程模型和存储软件栈保证数据正确地、原子性地写入到持久性存储介质中